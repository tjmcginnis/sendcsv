<% content_for :heading do %>
  <%= @table.name %>
<% end %>

<div class="sm:flex sm:items-center xs:flex-col xs:items-stretch xs:gap-y-4">
  <div class="bg-white sm:w-6/10 xs:w-full shadow-sm sm:rounded-lg dark:bg-gray-800/50 dark:shadow-none dark:outline dark:-outline-offset-1 dark:outline-white/10">
    <div class="px-4 py-5 sm:p-6">
      <h3 class="text-base font-semibold text-gray-900 dark:text-white">Unique ingestion url</h3>
      <div class="mt-2 max-w-xl text-sm text-gray-500 dark:text-gray-400">
        <p>Use this special address to post CSV directly into this table.</p>
      </div>
      <form data-controller="clipboard" class="mt-5 sm:flex sm:items-center">
        <div class="flex-1">
          <input aria-label="Ingestion URL" name="Ingestion URL" data-clipboard-target="source" type="text" value="<%= in_url(@table.public_id) %>" readonly class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-blue-grey-600 sm:text-sm/6 dark:bg-white/5 dark:text-white dark:outline-white/10 dark:placeholder:text-gray-400 dark:focus:outline-blue-grey-500" />
        </div>
        <button data-action="clipboard#copy" class="mt-3 inline-flex w-full items-center justify-center rounded-md bg-blue-grey-600 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-blue-grey-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-grey-600 sm:mt-0 sm:ml-3 sm:w-auto dark:bg-blue-grey-500 dark:shadow-none dark:hover:bg-blue-grey-400 dark:focus-visible:outline-blue-grey-500">
          <%= image_tag "clipboard-document-check.svg", alt: "Copy to Clipboard", class: "size-6" %>
          Copy to clipboard
        </button>
      </form>
    </div>
  </div>
  <%# TODO: Add Export button here %>
</div>
<div class="mt-8 flow-root">
  <div class="-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
    <div class="inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8">
      <table class="relative min-w-full divide-y divide-gray-300 dark:divide-white/15">
        <thead>
          <tr>
            <% @table.header.each do |column| %>
              <th scope="col" class="px-2 py-3.5 text-left text-sm font-semibold whitespace-nowrap text-gray-900 dark:text-white">
                <%= sanitize column.to_s %>
              </th>
            <% end %>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-200 dark:divide-white/10">
          <% @table.rows.each do |row| %>
            <tr>
              <% row.contents.each do |value| %>
                <td class="px-2 py-2 text-sm whitespace-nowrap text-gray-900 dark:text-white">
                  <%= sanitize value.to_s %>
                </td>
              <% end %>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
